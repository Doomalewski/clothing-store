@model List<clothing_store.ViewModels.ProductViewModel>

<div class="product-container">
    @foreach (var product in Model)
    {
        <div class="product-card">
            <!-- Product Image -->
            <div class="product-image-container">
                <img src="~/Images/@(product.Name + "1.jpg")" alt="@product.Name" class="product-image">
            </div>

            <!-- Footer Section -->
            <div class="product-footer">
                <div class="product-info">
                    <p class="product-name">@product.Name</p>
                    <p class="product-price">@product.ConvertedPrice @product.Currency.Code</p>
                </div>
                <form asp-controller="Account" asp-action="AddProductToCart" method="post" class="add-to-cart-form">
                    <input type="hidden" name="id" value="@product.ProductId" />
                    <button type="submit" class="add-to-cart-button">
                        <img src="~/Images/shopping-cart-icon.jpg" alt="Add to Cart" class="cart-icon">
                    </button>
                </form>
            </div>
        </div>
    }
</div>

<style>
    /* Container Styling */
    .product-container {
        display: flex; /* Flexbox for card alignment */
        flex-wrap: wrap; /* Allow wrapping of cards */
        justify-content: center; /* Center-align the cards horizontally */
        gap: 1.5rem; /* Adjust the gap to match dashboard spacing */
        padding: 20px; /* Add padding around the grid */
    }

    .product-card {
        width: 200px; /* Fixed width for cards */
        height: 250px; /* Fixed height for cards */
        background-color: #fff; /* Card background */
        border-radius: 15px; /* Rounded corners */
        overflow: hidden;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Shadow for depth */
        margin: 0; /* Remove margins; gap will handle spacing */
        display: flex;
        flex-direction: column;
    }


    .product-card:hover {
        transform: translateY(-5px); /* Lift card on hover */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* Enhanced shadow */
    }

    /* Image Styling - Cover the Rest of the Card */
    .product-image-container {
        width: 100%;
        flex-grow: 1; /* Allow the image to grow and occupy all remaining space */
        display: flex;
        overflow: hidden;
    }

    .product-image {
        width: 100%;
        height: 100%;
        object-fit: cover; /* Ensure the image scales proportionally */
    }

    /* Footer Section */
    .product-footer {
        background-color: black; /* Black footer background */
        color: white; /* White text for footer */
        padding: 0px;
        display: flex; /* Arrange contents (text and button) horizontally */
        align-items: center; /* Center-align items vertically */
        justify-content: space-between; /* Space out text and button */
        box-sizing: border-box; /* Include padding in dimensions */
    }

    /* Product Info - Name and Price */
    .product-info {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        justify-content: center;
        flex-grow: 1; /* Make the info take remaining space */
    }

    .product-name {
        padding-left: 5px;
        font-size: 14px;
        font-weight: bold;
        margin: 0;
        color: white; /* White text */
    }

    .product-price {
        padding-left: 5px;
        font-size: 14px;
        color: white; /* White text */
        margin: 3px 0 0 0; /* Reduced margin */
    }

    .add-to-cart-button {
        width: 40px; /* Width of the button */
        height: 40px; /* Height of the button */
        border-radius: 15px; /* Circular button */
        background-color: white; /* White button background */
        display: flex; /* Center the cart icon inside the button */
        align-items: center; /* Center the cart icon vertically */
        justify-content: center; /* Center the cart icon horizontally */
        cursor: pointer; /* Adds a pointer cursor */
        border: none; /* No border around the button */
        transition: background-color 0.3s; /* Smooth hover effect */
        margin: 10px; /* Moves the button slightly to the left */
    }


    .add-to-cart-button:hover {
        background-color: #ddd; /* Light gray on hover */
    }

    /* Shopping Cart Icon */
    .cart-icon {
        width: 25px; /* Adjusted size for smaller button */
        height: 25px;
        object-fit: contain;
    }
</style>
